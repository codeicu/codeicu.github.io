---
title: 'MySQL十大经典错误案例,你遇到过几个?'
date: 2018-11-27 14:10:26
tags: Database
---
# 出处
>转自[这里](https://mp.weixin.qq.com/s/m6VtKucuEixoZId3A_eysw).

<span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">老张我在刚开始学习数据库的时候，没少走弯路。经常会遇到各种稀奇古怪的 error 信息，遇到报错会很慌张，急需一个解决问题的办法。跟无头苍蝇一样，会不加思索地把错误粘到百度上，希望赶紧查找一下有没有好的处理问题的方法。我想这个应该是刚从事数据库的小白，都会遇到窘境。</span></p><p><br></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">今天就给大家列举 MySQL 数据库中，最经典的十大错误案例，并附有处理问题的解决思路和方法，希望能给刚入行，或数据库爱好者一些帮助，今后再遇到任何报错，我们都可以很淡定地去处理。</span></p><p><br></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">学习任何一门技术的同时，其实就是自我修炼的过程。沉下心，尝试去拥抱数据的世界！</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(255,0,0);">Top&nbsp; 1：</span></strong></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">Too many connections（连接数过多，导致连接不上数据库，业务无法正常进行）</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">问题还原</span></strong></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash">mysql<span class="token operator">&gt;</span> show variables like <span class="token string">'%max_connection%'</span><span class="token punctuation">;</span>
<span class="token operator">|</span> Variable_name   <span class="token operator">|</span> Value <span class="token operator">|</span>
max_connections <span class="token operator">|</span> 151   <span class="token operator">|</span> 
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> global max_connections<span class="token operator">=</span>1<span class="token punctuation">;</span>Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@node4 ~<span class="token punctuation">]</span><span class="token comment"># mysql -uzs -p123456 -h 192.168.56.132</span>
ERROR 1040 <span class="token punctuation">(</span>00000<span class="token punctuation">)</span>: Too many connections</code></pre><div class="toolbar"></div></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"></span></p><p><span style="color:rgb(0,176,240);font-size:18px;"><strong><span style="color:rgb(0,176,240);font-family:'微软雅黑', 'Microsoft YaHei';">解决问题的思路：&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">1、</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">首先先要考虑在我们 MySQL 数据库参数文件里面，对应的 max_connections 这个参数值是不是设置的太小了，导致客户端连接数超过了数据库所承受的最大值。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">● 该值默认大小是151，我们可以根据实际情况进行调整。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">● </span><strong>对应解决办法：</strong>set global max_connections=500</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">但这样调整会有隐患，因为我们无法确认数据库是否可以承担这么大的连接压力，就好比原来一个人只能吃一个馒头，但现在却非要让他吃 10 个，他肯定接受不了。反应到服务器上面，就有可能会出现宕机的可能。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">所以这又反应出了，我们在新上线一个业务系统的时候，要做好压力测试。保证后期对数据库进行优化调整。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">2、其次可以限制 Innodb 的并发处理数量，如果 innodb_thread_concurrency = 0（这种代表不受限制） 可以先改成 16或是64 看服务器压力。如果非常大，可以先改的小一点让服务器的压力下来之后,然后再慢慢增大,根据自己的业务而定。个人建议可以先调整为 16 即可。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">MySQL 随着连接数的增加性能是会下降的，可以让开发配合设置 thread pool，连接复用。在MySQL商业版中加入了thread pool这项功能<br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">另外对于有的监控程序会读取 information_schema 下面的表，可以考虑关闭下面的参数<br>innodb_stats_on_metadata=0<br>set global innodb_stats_on_metadata=0</span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(255,0,0);">Top 2：</span></strong><strong><span style="font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';">（主从复制报错类型）</span></strong><span style="font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';"><br></span></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">Last_SQL_Errno: 1062&nbsp; （从库与主库数据冲突） </span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash">Last_Errno: 1062
   Last_Error: Could not execute Write_rows event on table test.t<span class="token punctuation">;</span> 
   Duplicate entry <span class="token string">'4'</span> <span class="token keyword">for</span> key <span class="token string">'PRIMARY'</span>, 
   Error_code: 1062<span class="token punctuation">;</span> handler error HA_ERR_FOUND_DUPP_KEY<span class="token punctuation">;</span> 
   the event's master log mysql-bin.000014, end_log_pos 1505</code></pre><div class="toolbar"></div></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">针对这个报错，我们首先要考虑是不是在从库中误操作导致的。结果发现，我们在从库中进行了一条针对有主键表的 sql 语句的插入，导致主库再插入相同 sql 的时候，主从状态出现异常。发生主键冲突的报错。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,176,240);font-size:18px;"><strong><span style="color:rgb(0,176,240);font-family:'微软雅黑', 'Microsoft YaHei';">解决方法：</span></strong></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在确保主从数据一致性的前提下，可以在从库进行错误跳过。一般使用 percona-toolkit 中的 pt-slave-restart 进行。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在从库完成如下操作<br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">[root@zs bin]# ./pt-slave-restart -uroot -proot123<br>2017-07-20T14:05:30 p=...,u=root node4-relay-bin.000002&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1506 1062 <br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">之后最好在从库中开启 read_only 参数，禁止在从库进行写入操作</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">Last_IO_Errno: 1593（server-id冲突）</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash">  Last_IO_Error: 
  Fatal error: The slave I/O thread stops because master and slave have equal MySQL server ids<span class="token punctuation">;</span> 
  these ids must be different <span class="token keyword">for</span> replication to work 
  <span class="token punctuation">(</span>or the --replicate-same-server-id option must be used on slave but this 
  does not always <span class="token function">make</span> sense<span class="token punctuation">;</span> please check the manual before using it<span class="token punctuation">)</span></code></pre><div class="toolbar"></div></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">这个报错出现之后，就看一目了然看到两台机器的 server-id 是一样的。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在搭建主从复制的过程中，我们要确保两台机器的 server-id 是唯一的。这里再强调一下 server-id 的命名规则（服务器 ip 地址的最后一位+本 MySQL 服务的端口号）</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-size:18px;"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,176,240);">解决方法：</span></strong></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在主从两台机器上设置不同的 server-id。</span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">Last_SQL_Errno: 1032（从库少数据，主库更新的时候，从库报错）</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><div class="code-toolbar"><pre class="brush:sql;toolbar:false  language-sql"><code class="  language-sql">Last_SQL_Error:
Could <span class="token operator">not</span> <span class="token keyword">execute</span> Update_rows event <span class="token keyword">on</span> <span class="token keyword">table</span> test<span class="token punctuation">.</span>t<span class="token punctuation">;</span> Can<span class="token string">'t find record 
in '</span>t<span class="token string">', Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the 
event'</span>s master log mysql<span class="token operator">-</span>bin<span class="token punctuation">.</span><span class="token number">000014</span><span class="token punctuation">,</span> end_log_pos <span class="token number">1708</span></code></pre><div class="toolbar"></div></div><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(0,176,240);">解决问题的办法：</span></strong></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">根据报错信息，我们可以获取到报错日志和position号，然后就能找到主库执行的哪条sql，导致的主从报错。</span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在主库执行：</span></strong></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">/usr/local/mysql/bin/mysqlbinlog --no-defaults -v -v --base64-output=decode-rows /data/mysql/mysql-bin.000014 |grep -A 10 1708 &gt; 1.log</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">cat 1.log</span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash"><span class="token comment">#170720 14:20:15 server id 3  end_log_pos 1708 CRC32 0x97b6bdec     Update_rows: table id 113 flags: STMT_END_F</span>
<span class="token comment">### UPDATE `test`.`t`</span>
<span class="token comment">### WHERE</span>
<span class="token comment">###   @1=4 /* INT meta=0 nullable=0 is_null=0 */</span>
<span class="token comment">###   @2='dd' /* VARSTRING(60) meta=60 nullable=1 is_null=0 */</span>
<span class="token comment">### SET</span>
<span class="token comment">###   @1=4 /* INT meta=0 nullable=0 is_null=0 */</span>
<span class="token comment">###   @2='ddd' /* VARSTRING(60) meta=60 nullable=1 is_null=0 */</span>
<span class="token comment"># at 1708</span>
<span class="token comment">#170720 14:20:15 server id 3  end_log_pos 1739 CRC32 0xecaf1922     Xid = 654</span>
COMMIT/*<span class="token operator">!</span>*/<span class="token punctuation">;</span>
DELIMITER <span class="token punctuation">;</span>
<span class="token comment"># End of log file</span>
ROLLBACK /* added by mysqlbinlog */<span class="token punctuation">;</span>
/*<span class="token operator">!</span>50003 SET COMPLETION_TYPE<span class="token operator">=</span>@OLD_COMPLETION_TYPE*/<span class="token punctuation">;</span>
/*<span class="token operator">!</span>50530 SET @@SESSION.PSEUDO_SLAVE_MODE<span class="token operator">=</span>0*/<span class="token punctuation">;</span></code></pre><div class="toolbar"></div></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">获取到 sql 语句之后，就可以在从库反向执行 sql 语句。把从库缺少的 sql 语句补全，解决报错信息。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-size:16px;"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">在从库依次执行：</span></strong></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';">mysql&gt; insert into t (b) values ('ddd');<br>Query OK, 1 row affected (0.01 sec)<br>mysql&gt; stop slave;<br>Query OK, 0 rows affected (0.00 sec)<br>mysql&gt; exit<br>Bye<br>[root@node4 bin]# ./pt-slave-restart -uroot -proot123</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';">2017-07-20T14:31:37 p=...,u=root node4-relay-bin.000005&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 283 1032 </span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(255,0,0);">Top 3：</span></strong></span><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">MySQL安装过程中的报错</span></strong></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash"><span class="token punctuation">[</span>root@zs data<span class="token punctuation">]</span><span class="token comment"># /usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf &amp;[1] 3758</span>
<span class="token punctuation">[</span>root@zs data<span class="token punctuation">]</span><span class="token comment"># 170720 14:41:24 mysqld_safe Logging to '/data/mysql/error.log'.</span>
170720 14:41:24 mysqld_safe Starting mysqld daemon with databases from /data/mysql170720 
14:41:25 mysqld_safe mysqld from pid <span class="token function">file</span> /data/mysql/node4.pid ended
170720 14:41:24 mysqld_safe Starting mysqld daemon with databases from /data/mysql2017-07-20 
14:41:25 0 <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> TIMESTAMP with implicit DEFAULT value is deprecated. 
Please use --explicit_defaults_for_timestamp server option 
<span class="token punctuation">(</span>see documentation <span class="token keyword">for</span> <span class="token function">more</span> details<span class="token punctuation">)</span>./usr/local/mysql/bin/mysqld: 
File <span class="token string">'/data/mysql/mysql-bin.index'</span> not found <span class="token punctuation">(</span>Errcode: 13 - Permission denied<span class="token punctuation">)</span>
2017-07-20 14:41:25 4388 <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Aborting</code></pre><div class="toolbar"></div></div><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(0,176,240);">解决思路：</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-size:16px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';">遇到这样的报错信息，我们要学会时时去关注错误日志 error log 里面的内容。看见了关键的报错点 <strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(255,0,0);">Permission denied<span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,0,0);">。</span></span></strong></span><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';">证明当前 MySQL 数据库的数据目录没有权限。</span></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(0,176,240);">解决方法：</span></strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">[root@zs data]# chown mysql:mysql -R mysql<br>[root@zs data]# /usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf &amp;<br>[1] 4402<br>[root@zs data]# 170720 14:45:56 mysqld_safe Logging to '/data/mysql/error.log'.<br>170720 14:45:56 mysqld_safe Starting mysqld daemon with databases from /data/mysql</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">启动成功。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">如何避免这类问题，个人建议在安装 MySQL 初始化的时候，一定加上<strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(255,0,0);">--user=mysql</span></strong>，这样就可以避免权限问题。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">./mysql_install_db --basedir=/usr/local/mysql/ --datadir=/data/mysql/ --defaults-file=/etc/my.cnf --user=mysql</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(255,0,0);">Top 4：</span></strong></span><strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">数据库密码忘记的问题</span></strong></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash"><span class="token punctuation">[</span>root@zs ~<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -p</span>
Enter password: 
ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@zs ~<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -p</span>
Enter password: 
ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span></code></pre><div class="toolbar"></div></div><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">我们有可能刚刚接手别人的 MySQL 数据库，而且没有完善的交接文档。root 密码可以丢失或者忘记了。</span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></strong></span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">解决思路：</span></strong><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"></span></strong></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">目前是进入不了数据库的情况，所以我们要考虑是不是可以跳过权限。因为在数据库中，mysql数据库中user表记录着我们用户的信息。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(0,176,240);">解决方法：</span></strong></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">启动 MySQL 数据库的过程中，可以这样执行：</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">/usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf&nbsp; --skip-grant-tables &amp;</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">这样启动，就可以不用输入密码，直接进入 mysql 数据库了。然后在修改你自己想要改的root密码即可。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">update mysql.user set password=password('root123') where user='root';</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(255,0,0);">Top 5：</span></strong></span><strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">truncate 删除数据，导致自动清空自增ID，前端返回报错 not found。</span></strong></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">这个问题的出现，就要考虑下 truncate 和 delete 的区别了。</span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">看下实验演练：</span></strong></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">首先先创建一张表；</span></p><div class="code-toolbar"><pre class="brush:sql;toolbar:false  language-sql"><code class="  language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>t<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>a<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>b<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>a<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">`</span>b<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>b<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">300</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8</code></pre><div class="toolbar"></div></div><p><span style="font-size:16px;"><br>插入三条数据：</span><br></p><div class="code-toolbar"><pre class="brush:sql;toolbar:false  language-sql"><code class="  language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'bb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'cc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----+------+</span>
<span class="token operator">|</span> a   <span class="token operator">|</span> b    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----+------+</span>
<span class="token operator">|</span> <span class="token number">300</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">301</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">302</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><div class="toolbar"></div></div><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">先用 delete 进行删除全表信息，再插入新值。<br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">结果发现 truncate 把自增初始值重置了，自增属性从1开始记录了。当前端用主键id进行查询时，就会报没有这条数据的错误。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">个人建议不要使用 truncate 对表进行删除操作，虽然可以回收表空间，但是会涉及自增属性问题。这些坑，我们不要轻易钻进去。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(255,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong>Top 6：</strong></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">阿里云 MySQL 的配置文件中，需要注意一个参数设置就是：</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">lower_case_table_names = 0;默认情况</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">lower_case_table_names = 1;是不区分大小写 . 如果报你小写的表名找不到, 那你就把远端数据库的表名改成小写 , 反之亦然 . 注意 Mybatis 的 Mapper 文件的所有表名也要相应修改</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(255,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong>Top 7：</strong></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">有同学经常会问张老师，为什么我的数据库总会出现中文乱码的情况。一堆？？？？不知道怎么回事。当向数据库中写入创建表，并插入中文时，会出现这种问题。此报错会涉及数据库字符集的问题。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">解决思路：</span></strong></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">对于中文乱码的情况，记住老师告诉你的三个统一就可以。还要知道在目前的mysql数据库中字符集编码都是默认的UTF8</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;color:rgb(0,176,240);">处理办法：</span></strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">1、数据终端，也就是我们连接数据库的工具设置为 utf8</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">2、操作系统层面；可以通过 cat /etc/sysconfig/i18n 查看；也要设置为 utf8</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">3、数据库层面；在参数文件中的 mysqld 下，加入 character-set-server=utf8。</span></p><p><br></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">Emoji 表情符号录入 mysql 数据库中报错。</span></strong></p><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash">Caused by: java.sql.SQLException: Incorrect string value: <span class="token string">'\xF0\x9F\x98\x97\xF0\x9F...'</span> <span class="token keyword">for</span> column <span class="token string">'CONTENT'</span> at row 1
at com.mysql.jdbc.SQLError.createSQLException<span class="token punctuation">(</span>SQLError.java:1074<span class="token punctuation">)</span>
at com.mysql.jdbc.MysqlIO.checkErrorPacket<span class="token punctuation">(</span>MysqlIO.java:4096<span class="token punctuation">)</span>
at com.mysql.jdbc.MysqlIO.checkErrorPacket<span class="token punctuation">(</span>MysqlIO.java:4028<span class="token punctuation">)</span>
at com.mysql.jdbc.MysqlIO.sendCommand<span class="token punctuation">(</span>MysqlIO.java:2490<span class="token punctuation">)</span>
at com.mysql.jdbc.MysqlIO.sqlQueryDirect<span class="token punctuation">(</span>MysqlIO.java:2651<span class="token punctuation">)</span>
at com.mysql.jdbc.ConnectionImpl.execSQL<span class="token punctuation">(</span>ConnectionImpl.java:2734<span class="token punctuation">)</span>
at com.mysql.jdbc.PreparedStatement.executeInternal<span class="token punctuation">(</span>PreparedStatement.java:2155<span class="token punctuation">)</span>
at com.mysql.jdbc.PreparedStatement.execute<span class="token punctuation">(</span>PreparedStatement.java:1379<span class="token punctuation">)</span></code></pre><div class="toolbar"></div></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:14px;"></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';">解决思路：</span></strong></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';"></span></span><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,0,0);font-size:16px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,0,0);">针对表情插入的问题，</span>一定还是字符集的问题。</span></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';color:rgb(0,0,0);font-size:16px;"><br></span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">处理方法：</span></strong></span><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">我们可以直接在参数文件中，加入<br style="font-family:'sans serif', tahoma, verdana, helvetica;line-height:18px;"><span style="font-size:18px;color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';">vim /etc/my.cnf</span></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">[mysqld]<br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><span style="font-size:18px;color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';">init-connect='SET NAMES utf8mb4'</span><br style="font-family:'sans serif', tahoma, verdana, helvetica;line-height:18px;"><span style="font-size:18px;color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';">character-set-server=utf8mb4</span></span></p><p><span style="color:rgb(255,0,0);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">注：</span></strong></span><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">utf8mb4 是 utf8 的超集。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(255,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="color:rgb(255,0,0);font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';">Top 8：</span></strong></span><strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">使用 binlog_format=statement 这种格式，跨库操作，导致从库丢失数据，用户访问导致出现错误数据信息。</span></strong></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">当前数据库二进制日志的格式为：binlog_format=statement<br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在主库设置binlog-do-db=mydb1（只同步mydb1这一个库）</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在主库执行use mydb2；</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">insert into mydb1.t1 values ('bb');这条语句不会同步到从库。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">但是这样操作就可以；</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">use mydb1;</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">insert into mydb1.t1 values ('bb');因为这是在同一个库中完成的操作。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在生产环境中建议使用binlog的格式为row，而且慎用binlog-do-db参数。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(255,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="color:rgb(255,0,0);font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';">Top 9：</span></strong></span><strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">MySQL 数据库连接超时的报错 ；</span></strong><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"></span></p><div class="line number1 index0 alt2"><div class="code-toolbar"><pre class="brush:bash;toolbar:false  language-bash"><code class="  language-bash">org.hibernate.util.JDBCExceptionReporter - SQL Error:0, SQLState: 08S01
org.hibernate.util.JDBCExceptionReporter - The last packet successfully received from the server was43200 milliseconds ago.The last packet sent successfully to the server was 43200 milliseconds ago, <span class="token function">which</span> is longer than the server configured value of <span class="token string">'wait_timeout'</span><span class="token keyword">.</span> You should consider either expiring and/or testing connection validity before use <span class="token keyword">in</span> your application, increasing the server configured values <span class="token keyword">for</span> client timeouts, or using the Connector/J connection <span class="token string">'autoReconnect=true'</span> to avoid this problem.
org.hibernate.event.def.AbstractFlushingEventListener - Could not synchronize database state with session
org.hibernate.exception.JDBCConnectionException: Could not execute JDBC batch update
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Connection.close<span class="token punctuation">(</span><span class="token punctuation">)</span> has already been called. Invalid operation <span class="token keyword">in</span> this state.
org.hibernate.util.JDBCExceptionReporter - SQL Error:0, SQLState: 08003
org.hibernate.util.JDBCExceptionReporter - No operations allowed after connection closed. Connection was implicitly closed due to underlying exception/error:
 ** BEGIN NESTED EXCEPTION **</code></pre><div class="toolbar"></div></div><code class="sql plain"><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"></span></code></div><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">大多数做 DBA 的同学，可能都会被开发人员告知，你们的数据库报了这个错误了。赶紧看看是哪里的问题。</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">这个问题是由两个参数影响的，wait_timeout 和 </span><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">interactive_timeout。数据默认的配置时间是28800（8小时）意味着，超过这个时间之后，MySQL 数据库为了节省资源，就会在数据库端断开这个连接，Mysql服务器端将其断开了，但是我们的程序再次使用这个连接时没有做任何判断，所以就挂了。<br></span></code></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></code></p><p><span style="color:rgb(0,176,240);"><strong><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">解决思路：</span></code></strong></span></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">先要了解这两个参数的特性；这两个参数必须同时设置，而且必须要保证值一致才可以。</span></code></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">我们可以适当加大这个值，8小时太长了，不适用于生产环境。因为一个连接长时间不工作，还占用我们的连接数，会消耗我们的系统资源。</span></code></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></code></p><p><strong><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;color:rgb(0,176,240);">解决方法：</span></code></strong></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">可以适当在程序中做判断；强烈建议在操作结束时更改应用程序逻辑以正确关闭连接；然后设置一个比较合理的timeout的值（根据业务情况来判断）</span></code></p><p><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></code></p><p><span style="color:rgb(255,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><strong><span style="color:rgb(255,0,0);font-size:18px;font-family:'微软雅黑', 'Microsoft YaHei';">Top 10 ：</span></strong></span><strong><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">can't open file (errno:24)</span></code></strong><code><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;"><br></span></code></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">有的时候，数据库跑得好好的，突然报不能打开数据库文件的错误了。</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;color:rgb(0,176,240);">解决思路：</span></strong></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">首先我们要先查看数据库的 error log。然后判断是表损坏，还是权限问题。还有可能磁盘空间不足导致的不能正常访问表；操作系统的限制也要关注下；用 perror 工具查看具体错误！<br>linux:/usr/local/mysql/bin # ./perror 24<br>OS error code&nbsp; 24:&nbsp; Too many open files<br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">超出最大打开文件数限制！ulimit -n查看系统的最大打开文件数是65535，不可能超出！那必然是数据库的最大打开文件数超出限制！</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">在 MySQL 里查看最大打开文件数限制命令：show variables like 'open_files_limit';<br>发现该数值过小，改为2048，重启 MySQL，应用正常</span></p><p><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,176,240);"><strong><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">处理方法：</span></strong></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">repair table ；</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">chown mysql权限</span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;">清理磁盘中的垃圾数据<br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><br></span></p><p><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:16px;"><span style="font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;color:rgb(0,0,0);"></span><span style="color:rgb(0,0,0);font-family:'微软雅黑', 'Microsoft YaHei';font-size:18px;">今后还会继续总结 MySQL 中的各种报错处理思路与方法，希望跟各位老铁们，同学们一起努力。多沟通多交流！
