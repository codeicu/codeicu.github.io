---
layout: post
title: 为什么百度查到的ip和ipconfig查到的ip不一致
date: 2019-04-15 17:46:17
tags: 计算机网络
---
# IP分为Public IP和Private IP
出现该规划的原因是IPv4能表示的IP太少,电脑不够用.然而只有Public IP能直接连上网络.所以公司,学校,政府机构可以集中使用私有IP进行管理,而大家可以使用共同的IP连上公网,这样就省下了许多宝贵的Public IP.
每次使用ipconfig查到的地址,要么是172.开头,要么是192.开头,为什么呢?难道没有其他开头么?答案:基本没有.172意味着我们用的B类局域网,192意味我们用的c类局域网.所以我们一直没有接触到真正的IP,我们一直在于private IP打交道.
# 引出问题
百度查到的IP是本机的Public IP,用于互联网连接.ipconfig查到的是private IP,仅在局域网使用,不能连接外网.
# IP地址分类
A保留给政府,B分配给中等规模的公司,C分配给个人,D用于组播,E用于实验.
常用的三类IP地址
```
IP = 网路地址+主机地址
网络号:当前所在网络段
主机号:网络中的主机号
子网掩码:使用二进制表示子网掩码,其中为1的位是网络地址.
如255.255.255.0 ,其中IP地址中的前24位表示网络地址
```
```
A类IP地址的网络号字段占1个字节(8位),其中首位固定为0,且全为0和全为1的不可使用.所以A类网络号范围是1.0.0.0-126.0.0.0.
A类IP地址的主机号字段占3个字节(24位),所以每一个A类网络中的最大主机数为2^24-2个.
A类IP地址空间共有2^31个地址,所以占整个IP地址的50%.
```

```
B类IP地址的网络号占2个字节,前面2位(10)已经固定,只剩下14位可以分配.所以B类最小地址网络是128.1.0.0到191.255.0.0,共2^14-1个
B类IP地址的主机号占2个字节,最大主机数为2^16-1
B类IP地址空间约2^30个地址,占整个IP地址的25%.
```

```
C类IP地址的网络号占3个字节，但前面的3位(1 1 0)已经固定,剩下的21位可以分配.所以C类网络号范围是192.0.1.0-223.255.0.0
C类IP地址的主机号占1个字节,最大主机数为2^8-2
C类IP地址空间约为2^29个地址,占整个IP地址空间的12.5%
```
类别|默认子网掩码|支持主机数
:-:|:-:|:-:
A|255.0.0.0|2^24
B|255.255.0.0|2^16
C|255.255.255.0|2^8

早在规划IPv4时就担心IP有不足的情况,所以在ABC三个Class当中各保留一段作为私有IP网络段
:-:|:-:
A|10.0.0.0-10.255.255.255
B|172.16.0.0-172.31.255.255
C|192.168.0.0-192.168.255.255

私有IP不能用在Internet上的连接使用,不然到处都有相同的IP了.一般ipconfig查到的都是172,192开头的私有IP,简单的说,私有IP有几个限制:
```
私有IP的路由信息不能对外散播
使用私有IP作为来源或目的地址的封包,不能透过Internet来转送
关于私有IP的DNS,只能在内部网络使用

```
这个私有 IP 有什么好处呢？由于他的私有路由不能对外直接提供信息，所以，你的内部网络将不会直接被 Internet 上面的 Cracker 所攻击！但是，你也就无法以私有 IP 来『直接上网』啰！因此相当适合一些尚未具有Public IP 的企业内部用来规划其网络之设定！否则当你随便指定一些可能是Public IP 的网段来规划你企业内部的网络设定时，万一哪一天真的连上Internet 了，那么岂不是可能会造成跟 Internet 上面的 Public IP 相同了吗？

